{
  "timestamp_utc": "2025-09-19T22:13:33.900Z",
  "timestamp_local": "20/9/2025, 3:43:33 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify-backup-code",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "backupCode": "zsjpp7u43m"
    }
  },
  "response": {
    "status": 401,
    "body": {
      "code": "UNAUTHORIZED",
      "httpStatus": 401,
      "message": "Invalid or expired token."
    }
  },
  "error": {
    "message": "Cannot read properties of null (reading 'userId')",
    "stack": [
      "TypeError: Cannot read properties of null (reading 'userId')",
      "    at authenticate (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\authMiddleware.js:30:21)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T22:12:44.812Z",
  "timestamp_local": "20/9/2025, 3:42:44 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify-backup-code",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "backupCode": "zsjpp7u43m"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "createError is not a function"
    }
  },
  "error": {
    "message": "createError is not a function",
    "stack": [
      "TypeError: createError is not a function",
      "    at authenticate (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\authMiddleware.js:57:13)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:39:37.068Z",
  "timestamp_local": "20/9/2025, 3:09:37 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify-backup-code",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "backupCode": "zsjpp7u43m"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "success": false,
      "codesRemaining": 4
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:38:54.285Z",
  "timestamp_local": "20/9/2025, 3:08:54 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify-backup-code",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "backupCode": "zsjpp7u43m"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "success": true,
      "codesRemaining": 4
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:37:38.262Z",
  "timestamp_local": "20/9/2025, 3:07:38 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify-backup-code",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "backupCode": "zsjpp7u43m"
    }
  },
  "response": {
    "status": 400,
    "body": {
      "code": "BAD_REQUEST",
      "httpStatus": 400,
      "message": "Backup Code is Invalid"
    }
  },
  "error": {
    "message": "Invalid Backup Code: zsjpp7u43m",
    "stack": [
      "Error: Invalid Backup Code: zsjpp7u43m",
      "    at verifyBackupCode2FA (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:285:17)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:22:06.511Z",
  "timestamp_local": "20/9/2025, 2:52:06 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "281431"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "zsjpp7u43m",
        "le2jc2oqbt",
        "sx2mjibut6",
        "lleax5u5zo",
        "8aaeaj27eb"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:21:49.324Z",
  "timestamp_local": "20/9/2025, 2:51:49 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987232"
    }
  },
  "response": {
    "status": 401,
    "body": {
      "code": "UNAUTHORIZED",
      "httpStatus": 401,
      "message": "Invalid password or 2FA proof"
    }
  },
  "error": {
    "message": "Invalid password or 2FA proof",
    "stack": [
      "CustomError: Invalid password or 2FA proof",
      "    at createError (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\Error\\CustomErrorHandler.js:127:12)",
      "    at Object.refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Services\\authService.js:446:19)",
      "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "    at async refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:419:30)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:21:07.868Z",
  "timestamp_local": "20/9/2025, 2:51:07 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987232"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "26j0q4oco7",
        "mf0qdepf0y",
        "m6yqomoixx",
        "pf5xv4cdra",
        "sbc25cml7t"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:20:08.002Z",
  "timestamp_local": "20/9/2025, 2:50:08 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "totp": "762333"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "success": false
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:17:40.743Z",
  "timestamp_local": "20/9/2025, 2:47:40 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987232"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "gjr7pn9yxp",
        "uhlk1pctsc",
        "sqvoz6tfrq",
        "ik1crerxmi",
        "xmnqpye3uh"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:17:31.922Z",
  "timestamp_local": "20/9/2025, 2:47:31 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987239"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "7jejx8ycn6",
        "1mhusq9pfs",
        "ct8lhwl3ec",
        "v072b5u03m",
        "umikyslg8k"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:17:09.587Z",
  "timestamp_local": "20/9/2025, 2:47:09 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987239"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "5rsdmz1v9k",
        "nvdvo7lqvu",
        "rrasq0q541",
        "kezpvge9h7",
        "jmmb8danar"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:17:02.163Z",
  "timestamp_local": "20/9/2025, 2:47:02 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987239"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "Backup codes regenerated successfully",
      "backupCodes": [
        "usgorvrhc9",
        "r3kfayvsqo",
        "psuuol0azk",
        "9b07j4ujkw",
        "pvzitfm1fz"
      ]
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:16:37.190Z",
  "timestamp_local": "20/9/2025, 2:46:37 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "987239"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "Internal server error during backup code refresh"
    }
  },
  "error": {
    "message": "null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
    "stack": [
      "error: null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\pg\\lib\\client.js:545:17",
      "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "    at async Object.refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Services\\authService.js:459:9)",
      "    at async refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:419:30)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:16:05.157Z",
  "timestamp_local": "20/9/2025, 2:46:05 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "678217"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "Internal server error during backup code refresh"
    }
  },
  "error": {
    "message": "null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
    "stack": [
      "error: null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\pg\\lib\\client.js:545:17",
      "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "    at async Object.refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Services\\authService.js:459:9)",
      "    at async refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:419:30)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:13:04.742Z",
  "timestamp_local": "20/9/2025, 2:43:04 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "781873"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "Internal server error during backup code refresh"
    }
  },
  "error": {
    "message": "null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
    "stack": [
      "error: null value in column \"mfa_backup_codes_hash\" of relation \"users\" violates not-null constraint",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\pg\\lib\\client.js:545:17",
      "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "    at async Object.refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Services\\authService.js:458:9)",
      "    at async refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:419:30)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:12:00.863Z",
  "timestamp_local": "20/9/2025, 2:42:00 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/enable",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "totp": "762333"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "message": "2FA enabled successfully."
    }
  }
}
{
  "timestamp_utc": "2025-09-19T21:11:54.409Z",
  "timestamp_local": "20/9/2025, 2:41:54 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/enable",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "otp": "762333"
    }
  },
  "response": {
    "status": 400,
    "body": {
      "code": "BAD_REQUEST",
      "httpStatus": 400,
      "message": "User Id and TOTP are required"
    }
  },
  "error": {
    "message": "User Id or TOTP Doesn't Exist",
    "stack": [
      "Error: User Id or TOTP Doesn't Exist",
      "    at enable2FA (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:258:17)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T21:11:39.112Z",
  "timestamp_local": "20/9/2025, 2:41:39 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "totp": "762333"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "success": true
    }
  }
}
{
  "timestamp_utc": "2025-09-19T19:55:30.814Z",
  "timestamp_local": "20/9/2025, 1:25:30 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "totp": "716537"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "otp is not defined"
    }
  },
  "error": {
    "message": "otp is not defined",
    "stack": [
      "ReferenceError: otp is not defined",
      "    at verify2FA (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:225:36)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T19:53:37.012Z",
  "timestamp_local": "20/9/2025, 1:23:37 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "totp": "459541"
    }
  },
  "response": {
    "status": 500,
    "body": {
      "code": "INTERNAL_SERVER_ERROR",
      "httpStatus": 500,
      "message": "otp is not defined"
    }
  },
  "error": {
    "message": "otp is not defined",
    "stack": [
      "ReferenceError: otp is not defined",
      "    at verify2FA (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:225:36)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T19:53:29.324Z",
  "timestamp_local": "20/9/2025, 1:23:29 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/verify",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "otp": "459541"
    }
  },
  "response": {
    "status": 400,
    "body": {
      "code": "BAD_REQUEST",
      "httpStatus": 400,
      "message": "User Id and TOTP are required"
    }
  },
  "error": {
    "message": "User Id or TOTP Doesn't Exist",
    "stack": [
      "Error: User Id or TOTP Doesn't Exist",
      "    at verify2FA (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:209:17)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:157:13)",
      "    at Route.dispatch (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\route.js:117:3)",
      "    at handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:435:11)",
      "    at Layer.handleRequest (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\lib\\layer.js:152:17)",
      "    at D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:295:15",
      "    at processParams (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:582:12)",
      "    at next (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:291:5)",
      "    at Function.handle (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\node_modules\\router\\index.js:186:3)"
    ]
  }
}
{
  "timestamp_utc": "2025-09-19T19:52:21.118Z",
  "timestamp_local": "20/9/2025, 1:22:21 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/setup",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1"
    }
  },
  "response": {
    "status": 201,
    "body": {
      "qr_code_url": "otpauth://totp/Scholarly%20(vishalmittalrohini%40gmail.com)?secret=GFBWQKBGGRPCG63JNARTS2KYPF6UU7JB",
      "secret": "GFBWQKBGGRPCG63JNARTS2KYPF6UU7JB"
    }
  }
}
{
  "timestamp_utc": "2025-09-19T19:52:10.527Z",
  "timestamp_local": "20/9/2025, 1:22:10 am",
  "request": {
    "method": "POST",
    "route": "/api/v1/auth/2fa/refresh-backup-codes",
    "body": {
      "userId": "9d32c8e5-5022-40d3-874f-cb811b42d41f",
      "password": "mobileA@1",
      "totp": "526497"
    }
  },
  "response": {
    "status": 400,
    "body": {
      "code": "BAD_REQUEST",
      "httpStatus": 400,
      "message": "2FA is not enabled for this user"
    }
  },
  "error": {
    "message": "2FA is not enabled for this user",
    "stack": [
      "CustomError: 2FA is not enabled for this user",
      "    at createError (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\Error\\CustomErrorHandler.js:127:12)",
      "    at Object.refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Services\\authService.js:419:19)",
      "    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "    at async refresh2FABackupCodes (D:\\Codes\\ScholarlyERPSystem\\V1\\TenanatRuntime\\Backend\\AuthSVC\\Controllers\\authController.js:419:30)"
    ]
  }
}
